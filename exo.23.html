<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resident Evil 4 </title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<style>
  .product-panel {
    display: flex;
    justify-content: center;
    padding: 200px 300px;
    box-sizing: border-box;
    /* align-items: center; */
  }

  .imglog {
    max-width: 100%;
    height: auto;
  }

  .right-side {
    padding-left: 20px;
    box-sizing: border-box;
  }
</style>


<body>
  <main>
    <div class="product-panel">
      <img src="https://i.postimg.cc/6QxphzZH/Resident-Evil-4-remake-cover.jpg" alt="cover art leon resident evil 4"
        class="imglog">
      <div class="right-side">
        <div class="cart-item">
          <div class="row">
            <div class="col-md-7 center-item">
              <h1>Resident Evil 4 : Remake( $40 )</h1>
            </div>

            <div class="col-md-5 center-item">
              <div class="input-group game-spinner">
                <button id="game-minus" class="btn btn-default"><i class="fa-solid fa-minus"
                    style="color: #000000;"></i></button>
                <input id="RE4-number" type="number" min="0" class="form-control text-center" value="1">
                <button id="game-plus" class="btn btn-default"><i class="fa-solid fa-plus"
                    style="color: #000000;"></i></button>
              </div>
            </div>
          </div>
        </div>
        <div class="panier">
          <h5 id="sub-total">Subtotal: </h5>
          <h5 id="tax">Tax:</h5>
          <h5 id="total-price">Total:</h5>
        </div>
      </div>
    </div>
  </main>

  <script>

    //fonction pour mettre a jour la quantité et le prix
    function updateNumber(product, price, isIncreasing) {
      const gameInput = document.getElementById(product + '-number');
      let gameNumber = gameInput.value;

      if (isIncreasing) {
        gameNumber = parseInt(gameNumber) + 1;
      } else if (gameNumber > 0) {
        gameNumber = parseInt(gameNumber) - 1;
      }

      gameInput.value = gameNumber;

      calculateTotal();
    }
    //fontion pour recupérer la valeur entrée dans le champ de saisie 
    function getInputvalue(product) {
      const gameInput = document.getElementById(product + '-number');
      const gameNumber = parseInt(gameInput.value);
      return gameNumber;
    }
    //fonction pour calculer le sous total , la taxe et le prix total
    function calculateTotal() {
      const gameTotal = getInputvalue('RE4') * 40;
      const subTotal = gameTotal;
      const taxRate = 0.20;
      const tax = subTotal * taxRate;
      const totalPrice = subTotal + tax;
      //affichage du sous total, de la tax calculée et du total

      document.getElementById('sub-total').innerText = "Subtotal : " + subTotal + " $";
      document.getElementById('tax').innerText = "TVA : " + tax + " $";
      document.getElementById('total-price').innerText = "Prix TTC: " + totalPrice + " $";
    }

    // event listeners sur les boutons +/- et le champ de saisie
    document.getElementById('game-plus').addEventListener('click', function () {
      updateNumber('RE4', 40, true);
    });

    document.getElementById('game-minus').addEventListener('click', function () {
      updateNumber('RE4', 40, false);
    });

    document.getElementById('RE4-number').addEventListener('input', function () {
      calculateTotal();
    });
  </script>
</body>


</html>